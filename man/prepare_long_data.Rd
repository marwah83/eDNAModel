% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Prepare_long_data.R
\name{prepare_long_data}
\alias{prepare_long_data}
\title{Prepare Long-format OTU Data from a phyloseq Object}
\usage{
prepare_long_data(
  physeq_obj,
  min_species_sum = 50,
  sampletype_var = "sampletype",
  sampletype_keep = "biologicalsample",
  location_var = "location",
  treatment_var = "treatment",
  save_path = NULL
)
}
\arguments{
\item{physeq_obj}{A `phyloseq` object containing OTU and sample metadata.}

\item{min_species_sum}{Minimum total abundance across all samples required to retain a taxon (default: 50).}

\item{sampletype_var}{Column name in sample metadata indicating the sample type (default: "sampletype").}

\item{sampletype_keep}{The value of `sampletype_var` to retain (default: "biologicalsample").}

\item{location_var}{Column name in sample metadata representing site or location (default: "location").}

\item{treatment_var}{Column name representing the treatment group (default: "treatment").}

\item{save_path}{Optional path to save filtered phyloseq object (default: NULL).}
}
\value{
A list with:
\describe{
  \item{physeq_filtered}{A filtered `phyloseq` object.}
  \item{long_df}{A long-format data frame with columns: i (OTU), Site, Sample, Replicate, treatment, y (count).}
}
}
\description{
This function filters and reshapes a phyloseq object into a long-format data frame
suitable for occupancy-abundance modeling. It also prepares metadata including site,
treatment, sample, and replicate identifiers.
}
