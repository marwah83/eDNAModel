% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Prepare_long_data.R
\name{prepare_long_data}
\alias{prepare_long_data}
\title{Prepare Long-format OTU Data from a phyloseq Object}
\usage{
prepare_long_data(
  physeq_obj,
  min_species_sum = 50,
  sampletype_keep = "biologicalsample",
  col_vars = list(sampletype = "sampletype", location = "location", treatment =
    "treatment", sample = "sample", samplerep = "samplerep"),
  save_path = NULL
)
}
\arguments{
\item{physeq_obj}{A `phyloseq` object.}

\item{min_species_sum}{Minimum abundance to retain a taxon (default: 50).}

\item{sampletype_keep}{The value of `sampletype` to retain (default: "biologicalsample").}

\item{col_vars}{A named list mapping the following required fields:
- "sampletype"
- "location"
- "treatment"
- "sample"
- "samplerep"
Any other variables in the list will also be carried through to output.}

\item{save_path}{Optional path to save the filtered object.}
}
\value{
A list with:
\describe{
  \item{physeq_filtered}{Filtered `phyloseq` object}
  \item{long_df}{Long-format data frame with counts and metadata}
}
}
\description{
Filters and reshapes a phyloseq object into long format for occupancy-abundance modeling.
}
